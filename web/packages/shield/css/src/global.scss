/* =============================================================================
FUNCTIONS
============================================================================= */
@function convert-to-px($value, $base-value: $rem-base)  {
  $value: strip-unit($value) / strip-unit($base-value) * 1px;
  @if ($value == 0px) { $value: 0; } // Turn 0rem into 0
  @return $value;
}

/* =============================================================================
FOUNDATION OVERRIDE
============================================================================= */
.contain-to-grid{background:transparent;}

/* =============================================================================
FONTS
============================================================================= */
@font-face {
  font-family: 'Quadon Light';
  src: url('../fonts/quadon-light.eot'); /* IE9 Compat Modes */
  src: url('../fonts/quadon-light.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('../fonts/quadon-light.woff') format('woff'), /* Modern Browsers */
       url('../fonts/quadon-light.ttf')  format('truetype'), /* Safari, Android, iOS */
       url('../fonts/quadon-light.svg#7102284ce0240c199a09b5c4ac069f0b') format('svg'); /* Legacy iOS */
  font-style:   normal;
  font-weight:  200;
}
@font-face {
  font-family: 'Proxima Nova';
  src: url('../fonts/ProximaNova-Light.eot'); /* IE9 Compat Modes */
  src: url('../fonts/ProximaNova-Light.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('../fonts/ProximaNova-Light.woff') format('woff'), /* Modern Browsers */
       url('../fonts/ProximaNova-Light.ttf')  format('truetype'), /* Safari, Android, iOS */
       url('../fonts/ProximaNova-Light.svg#7102284ce0240c199a09b5c4ac069f0b') format('svg'); /* Legacy iOS */
  font-style:   normal;
  font-weight:  300;
}
@font-face {
  font-family: 'Proxima Nova';
  src: url('../fonts/ProximaNova-LightItalic.eot'); /* IE9 Compat Modes */
  src: url('../fonts/ProximaNova-LightItalic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('../fonts/ProximaNova-LightItalic.woff') format('woff'), /* Modern Browsers */
       url('../fonts/ProximaNova-LightItalic.ttf')  format('truetype'), /* Safari, Android, iOS */
       url('../fonts/ProximaNova-LightItalic.svg#7102284ce0240c199a09b5c4ac069f0b') format('svg'); /* Legacy iOS */
  font-style:   italic;
  font-weight:  300;
}
@font-face {
  font-family: 'Proxima Nova';
  src: url('../fonts/ProximaNova-RegItalic.eot'); /* IE9 Compat Modes */
  src: url('../fonts/ProximaNova-RegItalic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('../fonts/ProximaNova-RegItalic.woff') format('woff'), /* Modern Browsers */
       url('../fonts/ProximaNova-RegItalic.ttf')  format('truetype'), /* Safari, Android, iOS */
       url('../fonts/ProximaNova-RegItalic.svg#7102284ce0240c199a09b5c4ac069f0b') format('svg'); /* Legacy iOS */
  font-style:   italic;
  font-weight:  400;
}
@font-face {
  font-family: 'Proxima Nova';
  src: url('../fonts/ProximaNova-Reg.eot'); /* IE9 Compat Modes */
  src: url('../fonts/ProximaNova-Reg.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('../fonts/ProximaNova-Reg.woff') format('woff'), /* Modern Browsers */
       url('../fonts/ProximaNova-Reg.ttf')  format('truetype'), /* Safari, Android, iOS */
       url('../fonts/ProximaNova-Reg.svg#7102284ce0240c199a09b5c4ac069f0b') format('svg'); /* Legacy iOS */
  font-style:   normal;
  font-weight:  400;
}
@font-face {
  font-family: 'Proxima Nova';
  src: url('../fonts/ProximaNova-RegItalic.eot'); /* IE9 Compat Modes */
  src: url('../fonts/ProximaNova-RegItalic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('../fonts/ProximaNova-RegItalic.woff') format('woff'), /* Modern Browsers */
       url('../fonts/ProximaNova-RegItalic.ttf')  format('truetype'), /* Safari, Android, iOS */
       url('../fonts/ProximaNova-RegItalic.svg#7102284ce0240c199a09b5c4ac069f0b') format('svg'); /* Legacy iOS */
  font-style:   italic;
  font-weight:  400;
}
@font-face {
  font-family: 'Proxima Nova';
  src: url('../fonts/ProximaNova-Semibold.eot'); /* IE9 Compat Modes */
  src: url('../fonts/ProximaNova-Semibold.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('../fonts/ProximaNova-Semibold.woff') format('woff'), /* Modern Browsers */
       url('../fonts/ProximaNova-Semibold.ttf')  format('truetype'), /* Safari, Android, iOS */
       url('../fonts/ProximaNova-Semibold.svg#7102284ce0240c199a09b5c4ac069f0b') format('svg'); /* Legacy iOS */
  font-style:   normal;
  font-weight:  600;
}
@font-face {
  font-family: 'Proxima Nova';
  src: url('../fonts/ProximaNova-SemiboldItalic.eot'); /* IE9 Compat Modes */
  src: url('../fonts/ProximaNova-SemiboldItalic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('../fonts/ProximaNova-SemiboldItalic.woff') format('woff'), /* Modern Browsers */
       url('../fonts/ProximaNova-SemiboldItalic.ttf')  format('truetype'), /* Safari, Android, iOS */
       url('../fonts/ProximaNova-SemiboldItalic.svg#7102284ce0240c199a09b5c4ac069f0b') format('svg'); /* Legacy iOS */
  font-style:   italic;
  font-weight:  600;
}

/* =============================================================================
ANIMATIONS
============================================================================= */
a,.btn{
	-webkit-transition: all 0.5s;
	transition: all 0.5s;
}

/* =============================================================================
TYPOGRAPHY
============================================================================= */
@mixin body($type){
	a{
		@if $type == professional{
			color:$dark-green;
		}else{
			color:$brand-blue;
		}
	}
	.btn{color:#FFF;}
}
body{ 
	@include body(privateclient);
	font-family: $proxima;
	font-weight:400;
}
body.professional{ @include body(professional); }


h1,h2{font-family: $quadon-light}
h1,h2,h3,h4,p,ul{
	&.small{font-size:80%;}
}
h3{font-weight: 300;text-transform: uppercase;color:$brand-blue;}
p.lead{
	font-size:rem-calc(21);
	letter-spacing: 0.3rem;
}
p.lead-sm{
	font-size:rem-calc(18);
}
.subtitle{
	margin:2rem 0 1rem;
	font-family: $proxima;
	font-size:rem-calc(24);
	font-weight: 300;
	letter-spacing: 0.07em;
	line-height:rem-calc(26); 
	text-align: center;
	text-transform: uppercase;
}
.main{
	.h2,.h3{font-family: $proxima;}
}
.feature-title{
	position: relative;
	margin:3rem 0 2rem;
	padding:0.75rem 0 1.25rem;
	text-align: center;
	text-transform: uppercase;
	font-family: $proxima;
	font-weight:300;
	color:$lite-blue;
	&:before,&:after{
		position: absolute;
		margin: 0 45%;
		width: 10%;
		height: 1px;
		background: $tan;
		content: '';
		opacity: 1;
	}
	&:before{
		top: 0;
		left: 0;
	}
	&:after{
		bottom: 0;
		left: 0;
	}
}
blockquote{
	width:100%;
	border-left: 0;
	&.caption{
		font-family: $quadon-light;
		font-style: italic;
		font-size:rem-calc(34);
		line-height: rem-calc(48);
		&:before, &:after{
			display: block;
			margin:1rem 0;
			content:"";
			height:2px;
			width:30px;
			background: $brand-gray;
		}
		&.text-right{
			&:before, &:after{right:0;}
		}
	}
	p{
		font-family: $quadon-light;
		font-style: italic;
		color:$lite-blue;
		font-size:rem-calc(30);
		line-height: rem-calc(42);
		span{
			display: block;
			font-family: $proxima;
			font-size:rem-calc(18);
			font-style: normal;
			line-height: rem-calc(21);
			
			@media #{$small-only}{
				font-size:rem-calc(16);
				line-height: rem-calc(18);
			}
			
			&:before{
				display:block;
				margin:20px 0;
				content: " ";
				height:5px;
				width:100%;
				background: url(/assets/img/blockquote-signature.png) 50% 0 no-repeat;
				
			}
		}	
		@media #{$small-only}{
			font-size:rem-calc(21);
			line-height: rem-calc(26);
		}
	}
}
.uppercase{text-transform: uppercase;}

/* =============================================================================
POSITIONING
============================================================================= */
.nomargin{margin:0 !important;}
.nomargin-top{margin-top:0 !important;}
.nomargin-bottom{margin-bottom:0 !important;}
.nomargin-left{margin-left:0 !important;}
.nomargin-right{margin-right:0 !important;}

.nopadding{padding:0 !important;}
.nopadding-top{padding-top:0 !important;}
.nopadding-bottom{padding-bottom:0 !important;}
.nopadding-left{padding-left:0 !important;}
.nopadding-right{padding-right:0 !important;}

.vertical-middle {
	display: table;
}

/* =============================================================================
BUTTONS
============================================================================= */
@mixin btn{
	display: inline-block;
	position: relative;
	padding:0.6em 2em 0.5em;
	width: auto;
	text-align: center;
	text-transform: uppercase;
	text-align: center;
	white-space: nowrap;
	vertical-align: middle;
	cursor: pointer;
	font-size:0.7777777778rem;
	line-height: 0.7777777778rem;
	text-decoration: none;
	font-weight: 400;
	letter-spacing: 0.07em;
	-webkit-transition: all 0.5s;
	transition: all 0.5s;
}
@mixin btn-md{
	padding:0.6em 2em 0.5em;
	font-size: rem-calc(14);
	letter-spacing: 0.15rem;
	min-width: 11rem;
	&.btn-arrow:after{
		top:1.3333rem;
		right:1rem;
		border-top: 6px solid transparent;
		border-bottom: 6px solid transparent;
		border-left: 6px solid #053047;
	}
}
@mixin btn-lg{
	padding:0.5em 1rem;
	font-size: rem-calc(18);
	letter-spacing: 0.15rem;
	min-width: 11rem;
	&.btn-arrow:after{
		top:1.3333rem;
		right:1rem;
		border-top: 6px solid transparent;
		border-bottom: 6px solid transparent;
		border-left: 6px solid #053047;
	}
}


.btn{
	@include btn;
	&.align-center{
		display:table;
		margin:0 auto;
	}
	&.cta{
		margin-top:2rem;
		margin-bottom:2rem;
	}
	&.gray{
		color:#FFF;
		background:$lite-gray;
		text-transform: uppercase;
	}
}
.btn-md{@include btn-md;}
.btn-lg{@include btn-lg;}


.btn-bordered{
	border-width:2px;
	border-style: solid;
	color:#FFF;
	background: transparent;
	&.blue{
		border-color:$lite-blue;
	}
	&.on-lite{
		color:$medium-blue;
		background:#FFF;
	}
}
.btn-full{
	@include btn-lg;
	width:100% !important;
}
.btn-disabled{
	color:#FFF;
	background:#22221c;
}
.btn-arrow{
	text-align: left;
	&:after{
		position:absolute;
		top:0.6rem;
		right:1rem;	
		width: 0; 
		height: 0;  
		content:" ";
		border-top: 4px solid transparent;
		border-bottom: 4px solid transparent;
		border-left: 4px solid #27333a;
	}
}

/* =============================================================================
OFF CANVAS NAV
============================================================================= */
.right-off-canvas-menu{
	background:#333;
	a{text-align: left;}
	.primary-nav,.utility-nav{margin:0 20px;}
	.primary-nav{
		padding-bottom:30px;
		
		li{
			padding-top:20px;
			&.has-dropdown{}
			a{
				padding-left:0;
				padding-right:0;
				color:#FFF;
				font-size: 1rem;
				line-height: 1.5rem;
				text-decoration: none;
				text-transform: uppercase;
				border-bottom:1px solid #ccc;
			}
			
			ul{
				@include clearfix;
				display:block;
				margin:0;
				padding:0;
			}
			ul>li{
				margin:0;
				padding:0;
				display: table-cell;
				text-align: center;
				list-style: none;
				float:left;
				width:50%;
				
				a{
					padding-left:0;
					padding-right:0;
					border: 0;
					display: block;
					font-size: 11px;
					line-height: 12px;
				}
			}
		}
	}
	.utility-nav{
		margin-top:30px;
		.btn{
			margin:10px;
			width:auto;
			text-align: center;
			border: 2px solid #FFF;
		}
	}
}
.right-off-canvas-toggle{position: absolute;top:16px;right:0;}

/* =============================================================================
CALL TO ACTION ROW
============================================================================= */
.cta .btn{margin:0 0 3rem;}

/* =============================================================================
SECTIONS
============================================================================= */
.panel{margin:3rem 0;}
.section {
	margin-top:1rem;
	margin-bottom:2rem;
}
.feathered-divide{
	margin-top:0;
	margin-bottom:3rem;
	padding:2.75rem 0 1.5rem;
	background-image: url("#{$imagePath}bg-feathered-top.png"), url("#{$imagePath}bg-feathered-bottom.png");
	background-position: 50% 0, 50% 100%;
	background-repeat: no-repeat;
}
/* =============================================================================
TESTIMONIALS
============================================================================= */
@mixin testimonials($type){
	padding-top:4rem;
	padding-bottom:4rem;
	h3{
		color:#CFCFCF;
		font-size: rem-calc(21);
	}
	blockquote{
		p,span{
			color:$brand-gray;
			@if $type == professional {
				color:$brand-green;
			}
			@if $type == privateclient {
				color:$brand-blue;
			}
		}	
	}
	.btn,.btn-green-inverse{margin-top:1rem;}
}
.testimonials{ @include testimonials(privateclient); }
.professional .testimonials{ @include testimonials(professional); }
.professional .headline{
	@include testimonials(professional);
	blockquote p{
		color:$brand-green;
		font-size: rem-calc(34);
		
	}
}

